"use strict";(self.webpackChunkfitnessapp=self.webpackChunkfitnessapp||[]).push([[8241],{58241:function(e,t,s){s.r(t);var n=s(74165),a=s(15861),r=s(29439),i=s(24083),c=s(47313),o=s(7794),u=s(31387),l=(s(88282),s(71207)),d=s(35192),p=s(58467),f=s(2135),x=s(80836),h=s(19641),m=s(47605),g=s(48104),b=s(85281),v=s(94621),y=s.n(v),Z=s(70024),j=s(46417);t.default=function(){var e=(0,c.useState)([]),t=(0,r.Z)(e,2),s=t[0],v=t[1],w=(0,c.useState)(!1),k=(0,r.Z)(w,2),S=k[0],A=k[1],C=(0,p.s0)(),I=(0,c.useState)([]),R=(0,r.Z)(I,2),_=R[0],N=R[1],z=(0,p.TH)().state,E=z.catdata,P=z.subcatdata,B=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A(!0),e.next=3,(0,i.On)(P._id).then((function(e){A(!1),v(e.data.info),N("".concat("http://167.71.227.102:5055","/public/essentials/"))})).catch((function(e){e.response.data.isSuccess||(401===e.response.data.status?(u.Am.error(e.response.data.message),A(!1)):console.log(e.response.data,"else"))}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,c.useEffect)((function(){"true"===localStorage.getItem("redirectSuccess")&&(u.Am.success(localStorage.getItem("redirectMessage"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!1,pauseOnHover:!0,draggable:!0,progress:void 0}),localStorage.removeItem("redirectSuccess")),B()}),[]);var T=[{name:"icon",label:"Icon",options:{customBodyRender:function(e){return e?(0,j.jsx)("img",{src:"".concat("http://167.71.227.102:5055/public/essentials/").concat(e),alt:e,style:{height:"50px",width:"50px",borderRadius:"50%"}}):""}}},{name:"title",label:"Title",options:{filter:!0,sort:!0}},{name:"status",label:"Status",options:{filter:!0,sort:!1,customBodyRender:function(e,t){var n=t.rowIndex,a=s[n],r=a.status,c=a._id;return(0,j.jsx)(Z.Z,{checked:r,onChange:function(){var e={id:c,status:!r};(0,i.xX)(e,c).then((function(){u.Am.success("status changed successfully!",{key:e._id}),B()})).catch((function(){u.Am.error("something went wrong!",{key:e._id})}))}})}}},{name:"_id",label:"Action",options:{customBodyRender:function(e){return(0,j.jsxs)("div",{children:[(0,j.jsx)(l.Z,{style:{color:"#6495ED",cursor:"pointer",border:"1px solid",borderRadius:"5px",margin:"0px 6px",fontSize:"30px",padding:"4px"},onClick:function(){var t=s.find((function(t){return t._id===e}));C("/essentials/esssubcatlevel2/manage",{state:{catdata:E,subcatdata:P,editdata:t,imageurl:_}})}}),(0,j.jsx)(d.Z,{style:{color:"#FF5733",cursor:"pointer",border:"1px solid",borderRadius:"5px",margin:"0px 6px",fontSize:"30px",padding:"4px"},onClick:(0,a.Z)((0,n.Z)().mark((function t(){return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y()({title:"Are you sure?",text:"Are you sure that you want to delete this Essential?",icon:"warning",buttons:["No, cancel it!","Yes, I am sure!"],dangerMode:!0});case 2:t.sent&&(0,i.Zm)(e).then((function(){u.Am.success("deleted successfully!",{key:e}),B()})).catch((function(){u.Am.error("something went wrong!",{key:e})}));case 4:case"end":return t.stop()}}),t)})))})]})}}}],F=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data.map((function(e){return s.find((function(t,s){return s===e.dataIndex&&t._id}))._id})),e.next=3,y()({title:"Are you sure?",text:"Are you sure that you want to delete this Essential?",icon:"warning",buttons:["No, cancel it!","Yes, I am sure!"],dangerMode:!0});case 3:e.sent&&(0,i.Fb)(a).then((function(){B(),u.Am.success("Deleted successfully!",{key:a})})).catch((function(){u.Am.error("Something went wrong!",{key:a})}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(e){var t=e.selectedRows,s=e.data;return(0,j.jsx)("div",{children:(0,j.jsx)(x.Z,{onClick:function(){return F(t,s)},children:(0,j.jsx)(d.Z,{})})})},M={customToolbarSelect:function(e,t){return(0,j.jsx)(H,{selectedRows:e,data:t,columns:T,datatableTitle:"test"})}};return(0,j.jsx)("div",{children:(0,j.jsx)(h.ZP,{container:!0,spacing:4,children:(0,j.jsxs)(h.ZP,{item:!0,xs:12,children:[(0,j.jsx)(u.Ix,{}),(0,j.jsxs)("div",{className:"text-container",children:[(0,j.jsx)("div",{className:"left-text",children:(0,j.jsxs)(m.Z,{variant:"h4",size:"sm",className:"subHead",children:[(0,j.jsx)("a",{href:"/fitness-app/backend/essentials",children:E.title})," \xa0>\xa0",(0,j.jsx)(f.rU,{to:"/essentials/esssubcatlevel1",state:{catdata:E,imageurl:_},children:P.title}),"\xa0 >\xa0 SubCategories Level 2"]})}),(0,j.jsx)("div",{className:"right-text",children:(0,j.jsx)(g.Z,{variant:"contained",size:"medium",color:"primary",onClick:function(){C("/essentials/esssubcatlevel2/manage",{state:{catdata:E,subcatdata:P}})},children:"Add Essentials Level 2 Sub-Category"})})]}),S?(0,j.jsx)(h.ZP,{item:!0,xs:12,style:{textAlign:"center"},children:(0,j.jsx)(b.Z,{size:26,fullWidth:!0})}):(0,j.jsx)(o.ZP,{data:s,columns:T,options:M})]})})})}}}]);