"use strict";(self.webpackChunkfitnessapp=self.webpackChunkfitnessapp||[]).push([[2116],{2116:function(e,t,n){n.r(t);var r=n(74165),s=n(15861),i=n(29439),c=n(24083),a=n(47313),o=n(7794),u=n(31387),d=(n(88282),n(71207)),l=n(35192),x=n(58467),p=n(80836),f=n(19641),h=n(47605),m=n(48104),g=n(85281),y=n(94621),b=n.n(y),v=n(70024),Z=n(46417);t.default=function(){var e=(0,a.useState)([]),t=(0,i.Z)(e,2),n=t[0],y=t[1],w=(0,a.useState)(!1),j=(0,i.Z)(w,2),k=j[0],A=j[1],S=(0,x.s0)(),C=(0,a.useState)([]),I=(0,i.Z)(C,2),L=I[0],E=I[1],R=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A(!0),e.next=3,(0,c.Ex)().then((function(e){A(!1),y(e.data.info),E("".concat("http://167.71.227.102:5055/public/exerciseLibrary/"))})).catch((function(e){e.response.data.isSuccess||(401===e.response.data.status?(u.Am.error(e.response.data.message),A(!1)):console.log(e.response.data,"else"))}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,a.useEffect)((function(){"true"===localStorage.getItem("redirectSuccess")&&(u.Am.success(localStorage.getItem("redirectMessage"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!1,pauseOnHover:!0,draggable:!0,progress:void 0}),localStorage.removeItem("redirectSuccess")),R()}),[]);var _=[{name:"icon",label:"Icon",options:{customBodyRender:function(e){return e?(0,Z.jsx)("img",{src:"".concat("http://167.71.227.102:5055/public/exerciseLibrary/").concat(e),alt:e,style:{height:"50px",width:"50px",borderRadius:"50%"}}):""}}},{name:"title",label:"Title",options:{filter:!0,sort:!0}},{name:"status",label:"Status",options:{filter:!0,sort:!1,customBodyRender:function(e,t){var r=t.rowIndex,s=n[r],i=s.status,a=s._id;return(0,Z.jsx)(v.Z,{checked:i,onChange:function(){var e={id:a,status:!i};(0,c.YQ)(e,a).then((function(){u.Am.success("status changed successfully!",{key:e._id}),R()})).catch((function(){u.Am.error("something went wrong!",{key:e._id})}))}})}}},{name:"_id",label:"Action",options:{customBodyRender:function(e){return(0,Z.jsxs)("div",{children:[(0,Z.jsx)(d.Z,{style:{color:"#6495ED",cursor:"pointer",border:"1px solid",borderRadius:"5px",margin:"0px 6px",fontSize:"30px",padding:"4px"},onClick:function(){var t=n.find((function(t){return t._id===e}));S("/exeLibrary/manage",{state:{editdata:t,imageurl:L}})}}),(0,Z.jsx)(l.Z,{style:{color:"#FF5733",cursor:"pointer",border:"1px solid",borderRadius:"5px",margin:"0px 6px",fontSize:"30px",padding:"4px"},onClick:(0,s.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b()({title:"Are you sure?",text:"Are you sure that you want to delete this Excercise Library?",icon:"warning",buttons:["No, cancel it!","Yes, I am sure!"],dangerMode:!0});case 2:t.sent&&(0,c.Po)(e).then((function(){u.Am.success("deleted successfully!",{key:e}),R()})).catch((function(){u.Am.error("something went wrong!",{key:e})}));case 4:case"end":return t.stop()}}),t)})))})]})}}}],P=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.data.map((function(e){return n.find((function(t,n){return n===e.dataIndex&&t._id}))._id})),e.next=3,b()({title:"Are you sure?",text:"Are you sure that you want to delete this Excercise Library?",icon:"warning",buttons:["No, cancel it!","Yes, I am sure!"],dangerMode:!0});case 3:e.sent&&(0,c.it)(s).then((function(){R(),u.Am.success("Deleted successfully!",{key:s})})).catch((function(){u.Am.error("Something went wrong!",{key:s})}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(e){var t=e.selectedRows,n=e.data;return(0,Z.jsx)("div",{children:(0,Z.jsx)(p.Z,{onClick:function(){return P(t,n)},children:(0,Z.jsx)(l.Z,{})})})},N={customToolbarSelect:function(e,t){return(0,Z.jsx)(z,{selectedRows:e,data:t,columns:_,datatableTitle:"Excercise Library"})}};return(0,Z.jsx)("div",{children:(0,Z.jsx)(f.ZP,{container:!0,spacing:4,children:(0,Z.jsxs)(f.ZP,{item:!0,xs:12,children:[(0,Z.jsx)(u.Ix,{}),(0,Z.jsxs)("div",{className:"text-container",children:[(0,Z.jsx)("div",{className:"left-text",children:(0,Z.jsx)(h.Z,{variant:"h4",size:"sm",children:"Excercise Library"})}),(0,Z.jsx)("div",{className:"right-text",children:(0,Z.jsx)(m.Z,{variant:"contained",size:"medium",color:"primary",onClick:function(){S("/exeLibrary/manage")},children:"Add Excercise Library"})})]}),k?(0,Z.jsx)(f.ZP,{item:!0,xs:12,style:{textAlign:"center"},children:(0,Z.jsx)(g.Z,{size:26,fullWidth:!0})}):(0,Z.jsx)(o.ZP,{data:n,columns:_,options:N})]})})})}}}]);